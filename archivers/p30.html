<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>wordpress定时任务之四:页面访问触发执行(插件篇) - Powered by dhblog.org</title>
<meta name="keywords" content="wordpress定时任务之四:页面访问触发执行(插件篇)" />
<meta name="description" content="wordpress定时任务之四:页面访问触发执行(插件篇),静态页面,Powered by dhblog.org" />
<link rel="stylesheet" type="text/css" href="style.css" />
</head>
<body>
<div id="wrapper">
<div id="nav">
<ul><li><a href="p19.html" title="给我留言">给我留言</a></li>
<li><a href="p20.html" title="友情链接">友情链接</a></li>
<li><a href="p21.html" title="关于本站">关于本站</a></li>
<li><a href="p22.html" title="本站下载">本站下载</a></li>
<li><a href="p39.html" title="google搜索结果">google搜索结果</a></li>
</ul>
</div>
<div id="top">
<div id="dhtitle">DH 博客的文章归档</div>
<center>DH出品，必属精品！</center>
  <div style="text-align:right;">
	<a href="http://dhblog.org">原始版本</a>
  </div>  
</div><div id="nav">
<a href="http://dhblog.org/archivers/"><strong>DH 博客</strong></a>  &raquo; <a href="http://dhblog.org/archivers/cat125-1.html">wordpress</a>  &raquo; wordpress定时任务之四:页面访问触发执行(插件篇)
| <a href="http://dhblog.org/30.html"><strong>查看此文章的完整的版本</strong></a>
</div>
<div id="content">
<div id="post_content">
<div id="post_title">wordpress定时任务之四:页面访问触发执行(插件篇)</div>
<div id="post_author">2011-05-24 20:25:50</div>
<div>
我要定时发邮件！我要定时清理数据库！我要定时备份！我们怎么在wordpress之中执行定时任务呢？
<a href="http://www.dhblog.org/?p=892">wordpress定时任务一</a>、<a href="http://dhblog.org/?p=897">wordpress定时任务二</a>、<a href="http://dhblog.org/?p=898">wordpress定时任务三</a>介绍利用WP-Cron来控制定时任务，本文介绍另外一种方法，利用访客访问页面的触发来执行定时任务。
页面触发定时任务的大体思想是：将定时信息存储在数据库中，的当访客访问页面时，如果已经等于或者过了应该定时执行的时间，就执行定时任务。
这个方法的优点是不需要wp_cron，不占用太多的资源，缺点是不准确，在有访客访问的时候错发，不能再一个没有访问访问的深夜做，使得执行时可能访客的体验不好。
这里介绍如何在插件中使用，将以下代码保存为一个php，打包成一个插件就可以直接安装在wp中运行。

<p>2f3350b45f1a9eb064062a99adce3d6e101</p>


</div>
</div>
<div id="post_comment">
<div id="comment"><div id="comment_title">作者：<strong>wangluo4004</strong> 时间： 2011-05-25 16:51:07 </div><div id="comment_content">新手上路，到处逛逛
http://www.wishtoseLL.com</div></div><div id="comment"><div id="comment_title">作者：<strong>ixwebhosting</strong> 时间： 2011-05-25 19:57:40 </div><div id="comment_content">我都是拿别人弄好的东西直接用，技术方面我确实是太差劲了！</div></div><div id="comment"><div id="comment_title">作者：<strong>DH</strong> 时间： 2011-05-25 20:48:55 </div><div id="comment_content">我是有兴趣。。。把自己擅长的发挥出来，有的搞seo，有的搞美工，各有所长</div></div><div id="comment"><div id="comment_title">作者：<strong>elisa试剂盒</strong> 时间： 2011-05-25 21:34:55 </div><div id="comment_content">很不错，看看了</div></div><div id="comment"><div id="comment_title">作者：<strong>搞笑电影</strong> 时间： 2011-05-25 21:49:56 </div><div id="comment_content">你的博客很好 我已经关注你很久了</div></div><div id="comment"><div id="comment_title">作者：<strong>DH</strong> 时间： 2011-05-25 22:14:55 </div><div id="comment_content">谢谢关注啊，现在没有宽带，流量有限，不然可以长期去你的网站逛逛了</div></div><div id="comment"><div id="comment_title">作者：<strong>妈咪孕</strong> 时间： 2011-05-26 12:47:11 </div><div id="comment_content">不错的博客 支持了</div></div><div id="comment"><div id="comment_title">作者：<strong>美家具</strong> 时间： 2011-05-26 13:20:32 </div><div id="comment_content">代码。。。。我打酱油的</div></div><div id="comment"><div id="comment_title">作者：<strong>DH</strong> 时间： 2011-05-26 13:43:58 </div><div id="comment_content">打酱油，也欢迎</div></div><div id="comment"><div id="comment_title">作者：<strong>武汉seo</strong> 时间： 2011-05-26 14:16:49 </div><div id="comment_content">非常不错，我的wp博客用得着，暂时收藏了</div></div><div id="comment"><div id="comment_title">作者：<strong>DH</strong> 时间： 2011-05-26 15:00:33 </div><div id="comment_content">呵呵，用的时候难免会有错误的哦，有错误通知我啊</div></div><div id="comment"><div id="comment_title">作者：<strong>友豪</strong> 时间： 2011-05-26 15:23:14 </div><div id="comment_content">想用wp的程序就是空间是asp的 纠结！ [大汗]</div></div><div id="comment"><div id="comment_title">作者：<strong>DH</strong> 时间： 2011-05-26 19:55:08 </div><div id="comment_content">各有优势，根据自己情况选择</div></div><div id="comment"><div id="comment_title">作者：<strong>武汉seo</strong> 时间： 2011-05-26 20:30:46 </div><div id="comment_content">现在上线的是zblog，zblog缺点太多了，正在线下测试wp，你的博客真的很好，
给了我不少帮助，再次谢谢</div></div><div id="comment"><div id="comment_title">作者：<strong>DH</strong> 时间： 2011-05-26 20:33:58 </div><div id="comment_content">很荣幸能给你帮助，我也是在学习wordpress，互相学习，一起提高。wordpress还是比较强大，但是学习起来还是比较难的。</div></div><div id="comment"><div id="comment_title">作者：<strong>松鼠网</strong> 时间： 2011-05-26 21:21:18 </div><div id="comment_content">第一次访问，顶一下，不错的模板，比我的好看。</div></div><div id="comment"><div id="comment_title">作者：<strong>曹建的博客</strong> 时间： 2011-05-26 22:21:57 </div><div id="comment_content">学习学习。</div></div><div id="comment"><div id="comment_title">作者：<strong>一享</strong> 时间： 2011-09-23 09:41:10 </div><div id="comment_content">博主 可否加友链？</div></div>
</div>
</div><div id="sidebar">
<div id="contentcat">
<h3>分类目录</h3>
<ul><ul><li><a href="http://dhblog.org/archivers/cat1-1.html" title="">未分类</a> (0)</li><li><a href="http://dhblog.org/archivers/cat3-1.html" title="">信息应用</a> (4)<ul><li><a href="http://dhblog.org/archivers/cat117-1.html" title="">工具推荐</a> (4)</li><li><a href="http://dhblog.org/archivers/cat120-1.html" title="">网站设计</a> (1)<ul><li><a href="http://dhblog.org/archivers/cat126-1.html" title="">网站优化</a> (2)</li><li><a href="http://dhblog.org/archivers/cat125-1.html" title="">wordpress</a> (41)</li><li><a href="http://dhblog.org/archivers/cat123-1.html" title="">javascript</a> (8)</li><li><a href="http://dhblog.org/archivers/cat122-1.html" title="">css</a> (2)</li></ul></li></ul></li><li><a href="http://dhblog.org/archivers/cat7-1.html" title="">生活百味</a> (0)<ul><li><a href="http://dhblog.org/archivers/cat5-1.html" title="">电影赏析</a> (6)</li><li><a href="http://dhblog.org/archivers/cat118-1.html" title="">幽默故事</a> (0)</li><li><a href="http://dhblog.org/archivers/cat127-1.html" title="">活动推荐</a> (5)</li><li><a href="http://dhblog.org/archivers/cat128-1.html" title="">健康养生</a> (0)</li></ul></li><li><a href="http://dhblog.org/archivers/cat11-1.html" title="">投资理财</a> (3)</li><li><a href="http://dhblog.org/archivers/cat129-1.html" title="">信息基础</a> (0)<ul><li><a href="http://dhblog.org/archivers/cat124-1.html" title="">专业知识</a> (2)</li><li><a href="http://dhblog.org/archivers/cat121-1.html" title="">软件编程</a> (0)</li></ul></li><li><a href="http://dhblog.org/archivers/cat119-1.html" title="">时文分享</a> (0)</li></ul></ul>
</div>
<div id="contenttag">
<h3>讨论主题</h3>
<ul><li><a href="http://dhblog.org/archivers/tag130-1.html" title="">wordpress 定时任务</a> (1)</li>
<li><a href="http://dhblog.org/archivers/tag131-1.html" title="">wordpress安全</a> (9)</li>
<li><a href="http://dhblog.org/archivers/tag123-1.html" title="">javascript</a> (3)</li>
<li><a href="http://dhblog.org/archivers/tag132-1.html" title="">wordpress提高速度</a> (6)</li>
<li><a href="http://dhblog.org/archivers/tag133-1.html" title="">wordpress应用</a> (7)</li>
<li><a href="http://dhblog.org/archivers/tag134-1.html" title="">IT求职知识</a> (2)</li>
<li><a href="http://dhblog.org/archivers/tag135-1.html" title="">wordpress定时任务</a> (5)</li>
<li><a href="http://dhblog.org/archivers/tag136-1.html" title="">经验总结</a> (6)</li>
<li><a href="http://dhblog.org/archivers/tag137-1.html" title="">友情推荐</a> (7)</li>
<li><a href="http://dhblog.org/archivers/tag138-1.html" title="">域名空间</a> (1)</li>
<li><a href="http://dhblog.org/archivers/tag139-1.html" title="">拿福能</a> (2)</li>
<li><a href="http://dhblog.org/archivers/tag140-1.html" title="">wordpress主题</a> (7)</li>
<li><a href="http://dhblog.org/archivers/tag141-1.html" title="">wordpress ajax</a> (8)</li>
<li><a href="http://dhblog.org/archivers/tag143-1.html" title="">wordpress数据库</a> (1)</li>
<li><a href="http://dhblog.org/archivers/tag145-1.html" title="">迅雷下载</a> (3)</li>
<li><a href="http://dhblog.org/archivers/tag147-1.html" title="">BT下载</a> (1)</li>
<li><a href="http://dhblog.org/archivers/tag148-1.html" title="">数据库</a> (1)</li>
<li><a href="http://dhblog.org/archivers/tag149-1.html" title="">网络赚钱</a> (1)</li>
</ul>
</div>
</div><div id="footer">
<script language="javascript" type="text/javascript" src="http://js.users.51.la/4836371.js"></script>
<noscript><a href="http://www.51.la/?4836371" target="_blank"></a></noscript>
Powered by <strong><a href="http://dhblog.org" target="_blank">dhblog</a></strong> &nbsp;&copy;<a href="http://dhblog.org" target="_blank" title="DH博客">DH</a>
</div>
</div>
</body>
</html>